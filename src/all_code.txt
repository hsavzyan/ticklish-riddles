/* eslint-disable react/prop-types */

function RiddleModal({ riddle, handleUserChoice }) {
  return (
    <div className="riddle-modal">
      <h2 className="riddle-question">{riddle.question}</h2>
      <img
        className="riddle-image"
        src={riddle.image.src}
        alt={riddle.image.alt}
      />
      <div className="choices-container">
        {riddle.choices.map((choice, index) => (
          <button
            className="choice-btn"
            key={index}
            onClick={() => handleUserChoice(index)}
          >
            {choice.text}
          </button>
        ))}
      </div>
    </div>
  );
}

export default RiddleModal;
/* eslint-disable react/prop-types */

function Homepage({ startGame }) {
  return (
    <div className="homepage">
      <h1 className="site-title">Ticklish Riddles</h1>
      <p className="site-tagline">Think, laugh, repeat!</p>
      <p className="intro-text">
        Are you ready for a rollercoaster ride of riddles? Welcome to Ticklish
        Riddles, where every question is a tickle and every answer a belly
        laugh. Fasten your seatbelts, hold onto your funny bones, and let's get
        rolling!
      </p>
      <button className="start-btn" onClick={startGame}>
        Start
      </button>
    </div>
  );
}
export default Homepage;
/* eslint-disable react/prop-types */

function FeedbackModal({
  correct,
  riddle,
  moveToNextRiddle,
  userChoice,
  resetUserChoice,
}) {
  return (
    <div className="feedback-modal">
      <h2 className="feedback-text">
        {correct
          ? riddle.choices[riddle.correctChoiceIndex].feedback
          : riddle.choices[userChoice].feedback}
      </h2>
      <img
        className="feedback-image"
        src={
          correct
            ? riddle.correctAnswerImage.src
            : riddle.incorrectAnswerImage.src
        }
        alt={
          correct
            ? riddle.correctAnswerImage.alt
            : riddle.incorrectAnswerImage.alt
        }
      />
      <div className="modal-btns">
        {!correct && (
          <button className="retry-btn" onClick={resetUserChoice}>
            Try Again
          </button>
        )}
        <button className="next-btn" onClick={moveToNextRiddle}>
          Next
        </button>
      </div>
    </div>
  );
}

export default FeedbackModal;
/* eslint-disable react/prop-types */

function EndScreen({ resetGame, returnToHomepage }) {
  return (
    <div className="end-screen">
      <h1 className="congrats-text">Congratulations!</h1>
      <p className="end-screen-text">You've gone through all the riddles!</p>
      <img
        className="congrats-image"
        src="path_to_your_image.jpg"
        alt="Congratulations"
      />
      <div className="end-screen-btns">
        <button className="play-again-btn" onClick={resetGame}>
          Play Again
        </button>
        <button className="return-home-btn" onClick={returnToHomepage}>
          Return to Homepage
        </button>
      </div>
    </div>
  );
}

export default EndScreen;
import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App.jsx";

ReactDOM.createRoot(document.getElementById("root")).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
import { useState, useEffect } from "react";
import Homepage from "./components/Homepage";
import RiddleModal from "./components/RiddleModal";
import FeedbackModal from "./components/FeedbackModal";
import riddlesData from "./riddles.json";
import EndScreen from "./components/EndScreen";

function App() {
  const [riddles, setRiddles] = useState([]);
  const [currentRiddle, setCurrentRiddle] = useState(null);
  const [userChoice, setUserChoice] = useState(null);
  const [correct, setCorrect] = useState(false);
  const [showFeedbackModal, setShowFeedbackModal] = useState(false);
  const [gameStarted, setGameStarted] = useState(false);

  useEffect(() => {
    setRiddles(riddlesData.riddles);
  }, []);

  useEffect(() => {
    if (gameStarted && riddles.length) {
      startGame();
    }
  }, [riddles, gameStarted]);

  const returnToHomepage = () => {
    setRiddles(riddlesData.riddles);
    setCurrentRiddle(null);
    setUserChoice(null);
    setCorrect(false);
    setShowFeedbackModal(false);
    setGameStarted(false);
  };

  const resetGame = () => {
    setRiddles(riddlesData.riddles);
    setCurrentRiddle(null);
    setUserChoice(null);
    setCorrect(false);
    setShowFeedbackModal(false);
    setGameStarted(false);
    startGame();
  };

  const startGame = () => {
    setGameStarted(true);
    const randomRiddle = riddles[Math.floor(Math.random() * riddles.length)];
    setCurrentRiddle(randomRiddle);
  };

  const handleUserChoice = (choice) => {
    setUserChoice(choice);
    setShowFeedbackModal(true);
    setCorrect(currentRiddle.correctChoiceIndex === choice);
  };

  const resetUserChoice = () => {
    setUserChoice(null);
    setShowFeedbackModal(false);
  };

  const moveToNextRiddle = () => {
    setShowFeedbackModal(false);
    const newRiddles = riddles.filter((r) => r.id !== currentRiddle.id);
    setRiddles(newRiddles);
    if (newRiddles.length > 0) {
      const randomRiddle =
        newRiddles[Math.floor(Math.random() * newRiddles.length)];
      setCurrentRiddle(randomRiddle);
    } else {
      setCurrentRiddle(null);
    }
  };

  return (
    <div className="App">
      {!currentRiddle && !showFeedbackModal && !gameStarted && (
        <Homepage startGame={startGame} />
      )}
      {currentRiddle && !showFeedbackModal && (
        <RiddleModal
          riddle={currentRiddle}
          handleUserChoice={handleUserChoice}
        />
      )}
      {showFeedbackModal && (
        <FeedbackModal
          correct={correct}
          riddle={currentRiddle}
          moveToNextRiddle={moveToNextRiddle}
          userChoice={userChoice}
          resetUserChoice={resetUserChoice}
        />
      )}
      {riddles.length === 0 && !showFeedbackModal && gameStarted && (
        <EndScreen resetGame={resetGame} returnToHomepage={returnToHomepage} />
      )}
    </div>
  );
}

export default App;
